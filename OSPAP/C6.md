# C6 Multi-Object Synchronization
## Multiprocessor Lock Performance
1. locking
2. communication of shared data
  - multiprocessor: copy from one cache to another
3. false sharing

## Lock design patterns
- fine-grained locking

| Solution                         	| Pros                        	| Cons             	|
|----------------------------------	|-----------------------------	|------------------	|
| introduce a readers/writers lock 	| simple and high concurrency 	| high overhead    	|
| acquire every lock               	| works when resize is rare   	| resize expensive 	|
| divide the hash key space        	| balance                     	| complex          	|
- per-processor data structures
  - per-processor ready list
    - pros: better hw cache behavior
    - cons: decreased effectiveness of cache
- ownership design pattern
- staged architecture
  - communcation by messages via producer-consumer queue
  - pros: improved modularity and cache locality
  - cons: overload
  - dynamically vary the number of threads per stage

## Lock contention
### MSC locks
- test and test-and-set (not working)
- compare and swap
### RCU locks

** Read on page 274 (40.94%) **
