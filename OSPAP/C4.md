# C4 Concurrency and Threads
- concurrency: multiple acitivies that can happen at the same time
- thread: a single execution sequence that represents a separately schedulable task

## Thread advantages
- program structure
  - expressing logically concurrent tasks
- responsiveness
  - shifting work to run in the background
- performance
  - exploiting multiple processors
  - manageing I/O devices

## Thread abstraction
- thread scheduler: switch between running threads and ready threads
- execution model: each thread runs on a dedicated virtual processor with unpredictable and variable speed
- cooperative threads (out-dated)
- preemptive multithreading

## Simple thread API
- asynchronous procedure call
- fork-join parallelism
  - fork/thread_create
  - wait/join

## Thread data structures
- thread control block (TCB):
  - state of the computation being performed
    - thread stack pointer
    - copy of processor registers
  - metadata: for managing the thread
-  shared state
  - program code
  - global variables
  - heap variable
- thread local variables
  - errno
  - heap internals

## Thread life cycle state
- INIT: allocates and initialize per-thread data structures (TCB) 
- READY: available to run but not running; TCB on ready list
- RUNNING: TCB on running list
- WAITING: TCB on synchronization variable waiting list
- FINISHED: TCB on finished list

## Implementation of kernel threads
** Read on Page 145 **
